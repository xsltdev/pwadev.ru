---
description: Локализация CLI и конфигурации
---

# Локализация CLI и конфигурации

## CLI

```sh
lit-localize command [--flags]
```

### Команды

| Команда | Описание |
| --- | --- |
| `extract` | Извлечение вызовов `msg` из всех входных файлов и создание или обновление файлов XLIFF (`.xlf`). |
| `build` | Включите переводы обратно в ваше приложение, используя настроенный [режим](overview.md#output-modes). |

### Флаги

| Флаг | Описание |
| --- | --- |
| `--help` | Отображение справки об использовании. |
| `--config` | Путь к файлу JSON [config](#config-file). По умолчанию `./lit-localize.json` |

## Конфигурационный файл {#config-file}

### Общие настройки

!!!info ""

    Все пути к файлам являются относительными по отношению к местоположению файла конфигурации.

**`sourceLocale`**

: `string`

    _Обязательно_

    Код локали, в которой написаны шаблоны в исходном коде.

**`targetLocales`**

: `string[]`

    _Обязательно (может быть пустым)_

    Коды локалей, на которые будут локализованы шаблоны.

**`inputFiles`**

: `string[]`

    _Обязательно, если не указано `tsConfig`_

    Массив имен файлов или шаблонов [glob](https://github.com/mrmlnc/fast-glob#pattern-syntax), соответствующих файлам JavaScript или TypeScript для извлечения сообщений.

    Если указаны и `tsConfig`, и `inputFiles`, то приоритет имеет `inputFiles`.

**`tsConfig`**

: `string`

    _Обязательно, если не указано `inputFiles`_

    Путь к файлу `tsconfig.json` или `jsconfig.json`, описывающему файлы JavaScript или TypeScript, из которых будут извлекаться сообщения, а также параметры компилятора, которые будут использоваться при сборке для режима преобразования.

    Если указаны и `tsConfig`, и `inputFiles`, то приоритет имеет `inputFiles`.

**`output.mode`**

: `"transform" | "runtime"`

    _Обязательно_

    Какой вид вывода должен быть произведен. См. раздел [режимы](overview.md#output-modes).

**`output.localeCodesModule`**

: `string`

    _Опционально_

    Путь к файлу сгенерированного модуля JavaScript или TypeScript, который экспортирует `sourceLocale`, `targetLocales` и `allLocales`, используя коды локалей из вашего файла конфигурации. Используется для синхронизации конфигурационного файла и конфигурации клиента.

    Этот путь должен заканчиваться либо на `".js"`, либо на `".ts"`. Если он заканчивается на `".js"`, он будет выдан как модуль JavaScript. Если он заканчивается на `".ts"`, он будет выдан как модуль TypeScript.

**`interchange.format`**

: `"xliff" | "xlb"`

    _Обязательно_

    Формат данных, который должен использоваться процессом локализации. Опции:

    - `"xliff"`: [XLIFF 1.2](https://docs.oasis-open.org/xliff/v1.2/os/xliff-core.html) XML-формат.
    - `"xlb"`: Внутренний XML-формат Google

### Настройки режима выполнения

**`output.outputDir`**

: `string`

    _Обязательно_

    Выходной каталог для сгенерированных модулей. Для каждой `targetLocale` генерируется файл `<locale>.[js|ts]`. Каждый файл представляет собой модуль, экспортирующий переводы для данной локали, с ключом по ID сообщения.

**`output.language`**

: `"js" | "ts"`

    _По умолчанию `"js"`, или `"ts"`, если указан `tsConfig._

    Язык, на котором будут генерироваться модули.

### Настройки режима преобразования

**`output.outputDir`**

: `string`

    _Требуется, если не указан `tsConfig`, в этом случае по умолчанию используется `outDir` этого файла. Если оба поля указаны, приоритет имеет это поле._

    Выходной каталог для сгенерированных модулей. Для каждой локали в этой директории создается поддиректория, каждая из которых содержит полную сборку проекта для этой локали.

### Настройки режима XLIFF

**`interchange.xliffDir`**

: `string`

    _Необходимо с `"mode": "xliff"`_

    Каталог на диске для чтения/записи XML-файлов `.xlf`. Для каждой целевой локали будет использоваться путь `<xliffDir>/<locale>.xlf`.

**`interchange.placeholderStyle`**

: `"x" | "ph"`</code>

    _По умолчанию `"x"`_

    Как представлять заполнители, содержащие HTML-разметку и динамические выражения. Различные инструменты и сервисы локализации по-разному поддерживают синтаксис placeholder.

### Настройки режима XLB

**`interchange.outputFile`**

: `string`

    _Требуется с `"mode": "xlb"`_

    Выходной путь для XLB XML-файла, который будет создан, содержащий все сообщения, извлеченные из источника. Например, `"data/localization/en.xlb".`.

**`interchange.translationsGlob`**

: `string`

    _Требуется с `"mode": "xlb"`_

    [Glob](https://github.com/mrmlnc/fast-glob#pattern-syntax) шаблон XML-файлов XLB для чтения с диска, содержащих переведенные сообщения. Например, `"data/localization/*.xlb"`.
