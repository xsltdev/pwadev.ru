# Распространение PWA

![изображение названия и автора](_media/day3.png)

## Что я рассмотрю сегодня

| Раздел | Описание |
| --- | --- |
| **Почему магазины приложений?** | Распространение вашего PWA через магазины приложений позволяет привлечь больше пользователей к вашему приложению |
| **Модель распространения** | Как выглядит публикация PWA в магазинах приложений |
| **Пример** | Краткое описание публикации PWA в магазине приложений |

Добро пожаловать на **неделю 4 день 3** из [30 дней PWA](https://aka.ms/learn-pwa/30Days-blog). Сегодня вы узнаете, как распространять свой PWA в магазинах приложений и какие преимущества это дает.

## Почему именно магазины приложений?

Когда я рассказываю о публикации PWA в магазинах приложений, разработчики часто спрашивают: "Зачем? Разве смысл PWA не в том, что вам не нужен магазин приложений?".

И они правы, магазины приложений не нужны. Огромным преимуществом Интернета является отсутствие "привратников": вы можете опубликовать свое приложение, не нуждаясь ни в чьем разрешении. Ваше приложение действительно принадлежит вам, и вам не нужно ждать обзоров приложений, чтобы представить свое приложение, добавить в него функции или исправить ошибки. Вам не нужно делиться с магазином приложений 30% доходов от продажи приложений.

Однако у магазинов приложений тоже есть свои преимущества. С тех пор как в начале 2000-х годов произошел взрыв мобильных компьютеров, **мы приучили целое поколение пользователей искать приложения в магазинах приложений**. А поскольку прогрессивные веб-приложения - это _приложения_, почему бы не разместить свое приложение там, где пользователи ищут приложения? При публикации в магазинах приложений ваше PWA станет более узнаваемым - и ваше приложение получит больше пользователей.

Ваш PWA будет легче установить. Хотя пользователи могут добавить ваш PWA на домашний экран или установить из браузера, многие нетехнические пользователи не знакомы с этими задачами. Публикация PWA в магазинах приложений позволяет пользователям найти и установить ваше приложение, используя свой обычный рабочий процесс: магазин приложений ➡ поиск ➡ установка.

Вы получите более высокую вовлеченность пользователей, поскольку плитка вашего приложения появляется там, где пользователи ее ищут: в меню "Пуск" и на панели задач (Windows), в доке (Mac) и на домашнем экране (Android и iOS).

Пользователи с большей вероятностью будут доверять вашему приложению. Дополнительный уровень надежности и безопасности обеспечивают приложения, прошедшие процедуру проверки в магазинах приложений.

## Модель распространения

Надеюсь, я заинтересовал вас в публикации вашего PWA в магазинах приложений.

Для публикации необходимо выполнить три шага:

1.  Создать пакет приложения для магазина приложений
2.  Зарегистрировать учетную запись разработчика в магазине приложений
3.  Отправьте пакет приложений на рассмотрение

### 1. Создание пакета приложений

В идеальном случае вы отправляете URL-адрес своего PWA в магазин приложений, и они публикуют ваше приложение.

Однако в настоящее время магазины приложений не поддерживают PWA. Вместо этого магазины приложений требуют, чтобы вы обернули PWA в пакет приложения, что делает его похожим на приложение для конкретной платформы:

-   Пакет `.msix` (Windows)
-   Пакет `.aab` (Android)
-   Архив `.app` (iOS и Mac)
-   Пакет `.apk` (Oculus, Samsung, Amazon).

К счастью, существуют бесплатные инструменты разработчика, которые создают эти пакеты приложений за вас. Таким инструментом является бесплатный [PWABuilder] (https://aka.ms/learn-pwa/30days-4.3/pwabuilder.com) от Microsoft с открытым исходным кодом. При использовании PWABuilder вы вводите URL-адрес вашего PWA, и PWABuilder генерирует пакеты приложений для нужных вам магазинов приложений.

### 2. Регистрация учетной записи разработчика

После создания пакета приложений необходимо создать учетную запись разработчика, чтобы отправить PWA на проверку в магазин приложений:

-   Для Windows - зарегистрироваться в [Microsoft Partner Center](https://aka.ms/learn-pwa/30days-4.3/partner.microsoft.com).
-   Для Android - в [Google Play Console](https://aka.ms/learn-pwa/30days-4.3/play.google.com/console/about)
-   Для iOS и Mac - регистрация в [Apple Developer](https://aka.ms/learn-pwa/30days-4.3/developer.apple.com/account)
-   Для Oculus - зарегистрироваться в [Oculus Developer Center](https://aka.ms/learn-pwa/30days-4.3/developer.oculus.com/documentation/web/pwa-submit-app)
-   Для Samsung - зарегистрироваться в [Samsung Developer Center](hhttps://aka.ms/learn-pwa/30days-4.3/developer.samsung.com)
-   Для Amazon - зарегистрироваться на [Amazon Developer Portal](https://aka.ms/learn-pwa/30days-4.3/developer.amazon.com/apps-and-games).

Хотя все эти магазины приложений поддерживают PWA в той или иной форме, следует знать, что Microsoft, Android и Amazon поддерживают PWA лучше всего:

-   Windows имеет первоклассную поддержку магазинных PWA через [Hosted App Model](https://aka.ms/learn-pwa/30days-4.3/blogs.windows.com/windowsdeveloper/2020/03/19/hosted-app-model), где ваш PWA размещается на базе Chromium Edge.
-   Android имеет первоклассную поддержку Store PWA через [Trusted Web Activity](https://aka.ms/learn-pwa/30days-4.3/developer.chrome.com/docs/android/trusted-web-activity), где ваш PWA работает на базе Chrome.
-   Магазин приложений Amazon App Store имеет улучшенную поддержку магазинных PWA, позволяя отправлять URL-адрес непосредственно в магазин, который при запуске на устройствах Amazon работает в режиме веб-представления.

Другие магазины приложений и платформы, как правило, имеют меньшую поддержку PWA, обычно это приложение для конкретной платформы, оборачивающее веб-представление с некоторой функциональностью PWA. Например, при публикации PWA на iOS не будет доступна функция Push Notifications, поскольку iOS и мобильный Safari в настоящее время не поддерживают веб-стандарт для push-уведомлений.

Однако по мере развития платформ и улучшения поддержки веб-технологий этот разрыв сокращается.

В будущем мы ожидаем появления первоклассной поддержки PWA во всех основных магазинах приложений. Даже в нынешнем виде ваш PWA будет работать на всех платформах, и пока вы будете постепенно расширять возможности PWA, ваше приложение будет развиваться по мере того, как платформы будут поддерживать все больше функций PWA.

### 3. Отправьте пакет приложений на рассмотрение

После регистрации в программе разработчиков магазина приложений отправьте свое приложение на рассмотрение через портал для разработчиков.

-   [Как отправить PWA в Microsoft Store](https://aka.ms/learn-pwa/30days-4.3/blog.pwabuilder.com/docs/windows-platform)
-   [Как отправить PWA в Google Play](https://aka.ms/learn-pwa/30days-4.3/blog.pwabuilder.com/docs/android-platform)
-   [Как отправить PWA в iOS App Store](https://aka.ms/learn-pwa/30days-4.3/blog.pwabuilder.com/docs/ios-platform)

После отправки пакет приложений рассматривается как любое другое приложение: рецензенты магазина приложений проверят ваше приложение, и после одобрения оно будет опубликовано в выбранных вами магазинах приложений.

**Последующие обновления PWA не нужно публиковать через магазин**. Поскольку PWA загружает свои наборы динамически, любые функции или исправления ошибок, которые вы добавляете на свой веб-сервер, автоматически отражаются в вашем приложении в Магазине. Как правило, обновление пакета магазина приложений требуется только при изменении таких параметров, как значки приложений, название, описание, скриншоты или другие метаданные о приложении.

## Публикуем PWA в магазине приложений

Перейдите на сайт [PWABuilder.com](https://aka.ms/learn-pwa/30days-4.3/pwabuilder.com) и введите URL-адрес вашего PWA. (У вас его еще нет? Вы можете использовать [https://webboard.app](https://aka.ms/learn-pwa/30days-4.3/webboard.app), чтобы попробовать).

![image](https://user-images.githubusercontent.com/312936/156713422-7f970deb-ad7c-40ce-8375-384e41f2efc7.png)

PWABuilder проанализирует ваш PWA на предмет наличия манифеста и сервис-воркера: ![image](https://user-images.githubusercontent.com/312936/156713592-74ed51c1-c736-4da7-9d66-762d1f671017.png)

Перейдите на страницу публикации и выберите `Windows` -> `Тестовый пакет`: ![image](https://user-images.githubusercontent.com/312936/156716438-5780cdbc-d1d9-4ff0-8576-527f147a118f.png)

(Почему `Тестовый пакет`? Это позволит нам протестировать наш PWA на устройстве Windows перед публикацией в магазине).

В результате будет загружен zip-файл, содержащий пакет приложения и инструкции по его тестированию на устройстве Windows. Если все выглядит хорошо, вы готовы к [публикации в Microsoft Store](https://aka.ms/learn-pwa/30days-4.3/blog.pwabuilder.com/docs/publish-a-new-app-to-the-microsoft-store):

1.  Войдите в свою учетную запись [Microsoft Partner Center](https://aka.ms/learn-pwa/30days-4.3/partner.microsoft.com)
2.  Скопируйте свои [значения издателя](https://aka.ms/learn-pwa/30days-4.3/blog.pwabuilder.com/docs/finding-your-windows-publisher-info).
3.  В PWABuilder нажмите `Windows` -> `Store Package` и вставьте значения издателя.

В результате загрузки будет создан пакет приложений, готовый к продаже в магазине, который теперь можно загрузить в Partner Center для рассмотрения.

Одобрение обычно занимает 24-48 часов, и после его получения вы попадаете в магазин приложений. 😎

## Резюме

Публикация PWA в магазинах приложений может сделать ваше приложение более узнаваемым, что позволит привлечь к нему больше пользователей.

Чтобы опубликовать PWA в магазинах приложений, создайте пакет приложений с помощью таких инструментов, как [PWABuilder](https://aka.ms/learn-pwa/30days-4.3/pwabuilder.com).

После создания пакета отправьте его на портал разработчиков магазина приложений для проверки.

Удачной упаковки!
