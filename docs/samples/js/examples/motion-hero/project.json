{"extends":"/samples/base.json","title":"List/Detail Hero Transition","description":"Hero animation.","section":"@lit-labs/motion","files":{"motion-hero.js":{"content":"import {LitElement, html} from 'lit';\nimport {repeat} from 'lit/directives/repeat.js';\nimport {\n  animate,\n  AnimateController,\n  fadeInSlow,\n  fadeOut,\n} from '@lit-labs/motion';\nimport {onFrames, data} from './support.js';\nimport {styles} from './styles.js';\n\nexport class MotionHero extends LitElement {\n  static properties = {\n    data: {type: Array},\n    detail: {state: true},\n  };\n  static styles = styles;\n\n  constructor() {\n    super();\n    this.data = data;\n  }\n\n  controller = new AnimateController(this, {\n    defaultOptions: {\n      keyframeOptions: {\n        duration: 750,\n        fill: 'both',\n      },\n      onFrames,\n    },\n  });\n\n  render() {\n    return html`<div class=\"container\">\n      <ul class=\"cards fit\">\n        ${repeat(\n          this.detail ? [] : this.data,\n          (i) => i,\n          (i, x) => html`<li\n              @click=${(e) => this.clickHandler(e, i)}\n              ${animate({\n                out: fadeOut,\n                id: `${i.id}:card`,\n                inId: `${i.id}:detail`,\n              })}\n            >\n              <div\n                class=\"card-background fit\"\n                ${animate({\n                  in: fadeInSlow,\n                  skipInitial: true,\n                })}\n              ></div>\n              <div class=\"card-content\">\n                <div\n                  class=\"icon card-icon\"\n                  ${animate({\n                    id: `${i.id}:card-icon`,\n                    inId: `${i.id}:detail-icon`,\n                    skipInitial: true,\n                  })}\n                >\n                  pets\n                </div>\n              </div>\n              <div\n                class=\"divider\"\n                ${animate({\n                  in: fadeInSlow,\n                  skipInitial: true,\n                })}\n              ></div>\n              <div class=\"card-header hero-text\">\n                <div\n                  ${animate({\n                    id: `${i.id}:card-header`,\n                    inId: `${i.id}:detail-header`,\n                    skipInitial: true,\n                  })}\n                >\n                  <div class=\"card-header-title\">${i.value}</div>\n                  <div>${i.summary}</div>\n                </div>\n              </div>\n            </li>`\n        )}\n      </ul>\n      ${\n        this.detail\n          ? html`<div\n            class=\"detail fit\"\n            @click=${this.clickHandler}\n            ${animate({\n              id: `${this.detail.id}:detail`,\n              inId: `${this.detail.id}:card`,\n            })}\n          >\n            <div class=\"detail-header\">\n              <div\n                class=\"icon detail-header-icon\"\n                ${animate({\n                  id: `${this.detail.id}:detail-icon`,\n                  inId: `${this.detail.id}:card-icon`,\n                })}\n              >\n                pets\n              </div>\n              <div\n                class=\"detail-header-text hero-text\"\n                ${animate({\n                  id: `${this.detail.id}:detail-header`,\n                  inId: `${this.detail.id}:card-header`,\n                })}\n              >\n                <div class=\"detail-header-title\">${this.detail.value}</div>\n                <div>${this.detail.summary}</div>\n              </div>\n            </div>\n            <div\n              class=\"detail-content divider-top\"\n              ${animate({\n                in: fadeInSlow,\n              })}\n            >\n              Sed ut perspiciatis unde omnis iste natus error sit voluptatem\n              accusantium doloremque laudantium, totam rem aperiam, eaque ipsa\n              quae ab illo inventore veritatis et quasi architecto beatae vitae\n              dicta sunt explicabo. Nemo enim ipsam voluptatem quia voluptas sit\n              aspernatur aut odit aut fugit, sed quia consequuntur magni dolores\n              eos qui ratione voluptatem sequi nesciunt. Neque porro quisquam\n              est, qui dolorem ipsum quia dolor sit amet, consectetur, adipisci\n              velit, sed quia non numquam eius modi tempora incidunt ut labore\n              et dolore magnam aliquam quaerat voluptatem.\n            </div>\n          </div>`\n          : ''\n      }\n    </div>`;\n  }\n\n  clickHandler(e, item) {\n    if (this.controller.isAnimating) {\n      this.controller.togglePlay();\n    } else {\n      this.detail = item;\n    }\n  }\n}\ncustomElements.define('motion-hero', MotionHero);\n"},"styles.js":{"content":"import {css} from 'lit';\n\nexport const styles = [\n  css`\n    :host {\n      display: flex;\n      color: #040424;\n      height: 100%;\n      overflow: hidden;\n      justify-content: center;\n      --card-color: #546e7a;\n      --card-text-color: white;\n      --detail-color: #819ca9;\n      --detail-text-color: black;\n      --accent-color: #29434e;\n      --divider: 2px solid var(--accent-color);\n      --border: 8px solid var(--accent-color);\n      --border-radius: 8px;\n    }\n\n    * {\n      box-sizing: border-box;\n      -webkit-user-select: none;\n      -moz-user-select: none;\n      user-select: none;\n    }\n\n    .fit {\n      position: absolute;\n      inset: 0;\n    }\n\n    .icon {\n      font-family: 'Material Icons';\n      font-style: normal;\n      color: var(--accent-color);\n    }\n\n    .divider {\n      will-change: opacity;\n      border-bottom: var(--divider);\n    }\n\n    .divider-top {\n      will-change: opacity;\n      border-top: var(--divider);\n    }\n\n    .container {\n      width: 800px;\n      position: relative;\n    }\n\n    .cards {\n      list-style: none;\n      padding: 0;\n      margin: 0;\n      display: flex;\n      flex-wrap: wrap;\n    }\n\n    li {\n      will-change: transform;\n      position: relative;\n      overflow: hidden;\n      display: flex;\n      flex-direction: column;\n      flex: 1;\n      flex-basis: 30%;\n      cursor: pointer;\n      margin: 8px;\n      padding: 16px;\n      border-radius: var(--border-radius);\n      background: var(--card-color);\n      color: var(--card-text-color);\n    }\n\n    .card-background {\n      will-change: opacity;\n      border-radius: var(--border-radius);\n      border: var(--border);\n    }\n\n    .card-icon {\n      will-change: transform;\n      font-size: 9em;\n      text-align: center;\n      margin: 8px 0;\n    }\n\n    .card-content {\n      flex: 1;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n    }\n\n    .card-header {\n      padding-top: 8px;\n      min-height: 40px;\n    }\n\n    .card-header-title {\n      font-weight: 800;\n    }\n\n    .detail {\n      will-change: transform;\n      display: flex;\n      flex-direction: column;\n      flex: 1;\n      color: var(--detail-text-color);\n      margin: 8px;\n      padding: 16px;\n      border-radius: 8px;\n      overflow: hidden;\n      background: var(--detail-color);\n      border-radius: var(--border-radius);\n      border: var(--border);\n    }\n\n    .detail-header {\n      display: flex;\n      align-items: center;\n    }\n\n    .detail-header-title {\n      font-weight: 800;\n    }\n\n    .hero-text {\n      will-change: transform;\n      display: inline-block;\n      width: 218px;\n    }\n\n    .detail-header-text {\n      margin-left: 8px;\n    }\n\n    .detail-header-icon {\n      will-change: transform;\n      font-size: 3em;\n      min-width: 48px;\n    }\n\n    .detail-content {\n      padding: 16px;\n      font-size: 1.1em;\n      line-height: 200%;\n    }\n  `,\n];\n"},"support.js":{"content":"export const springy = [\n  0, 0.0701, 0.2329, 0.4308, 0.6245, 0.7906, 0.9184, 1.0065, 1.059, 1.0833,\n  1.0872, 1.0783, 1.0628, 1.0453, 1.0288, 1.015, 1.0048, 0.9979, 0.994, 0.9925,\n  0.9925, 0.9935, 0.9949, 0.9964, 0.9978, 0.999, 0.9998,\n];\n\nexport const onFrames = (animate) => {\n  const {animatingProperties: props, frames} = animate;\n  if (frames === undefined || props === undefined) {\n    return frames;\n  }\n  return [\n    frames[0],\n    ...springy.map((v) => {\n      const frame = {};\n      const x = props.left ? `translateX(${props.left * (1 - v)}px)` : '';\n      const y = props.top ? `translateY(${props.top * (1 - v)}px)` : '';\n      const sx = props.width\n        ? `scaleX(${props.width + (1 - props.width) * v})`\n        : '';\n      const sy = props.height\n        ? `scaleY(${props.height + (1 - props.height) * v})`\n        : '';\n      frame.transform = `${x} ${y} ${sx} ${sy}`;\n      return frame;\n    }),\n    frames[1],\n  ];\n};\n\nexport const data = [\n  {id: 0, value: 'Cats', summary: 'Cats are the very best pets.'},\n  {id: 1, value: 'Dogs', summary: 'Dogs have a lot of energy.'},\n  {id: 2, value: 'Hippos', summary: 'Hippos are very fat and mean.'},\n  {\n    id: 3,\n    value: 'Elephants',\n    summary: 'Elephants are really huge.',\n  },\n  {\n    id: 4,\n    value: 'Mosquitoes',\n    summary: 'Mosquitoes bite you.',\n  },\n  {id: 5, value: 'Snakes', summary: 'Snakes are pretty scary.'},\n  {id: 6, value: 'Frogs', summary: 'Frogs are amphibious.'},\n  {\n    id: 7,\n    value: 'Alligators',\n    summary: 'Alligators sneak up on you.',\n  },\n  {id: 8, value: 'Cows', summary: 'Cows make good hamburgers.'},\n];\n"},"index.html":{"content":"<!DOCTYPE html>\n<head>\n  <script type=\"module\" src=\"./motion-hero.js\"></script>\n  <link\n    href=\"https://fonts.googleapis.com/css?family=Material+Icons&display=block\"\n    rel=\"stylesheet\"\n  />\n  <style>\n    body {\n      margin: 0;\n      height: 100vh;\n      width: 100vw;\n      font-family: sans-serif;\n    }\n  </style>\n</head>\n<body>\n  <motion-hero></motion-hero>\n</body>\n"},"package.json":{"content":"{\n  \"dependencies\": {\n    \"lit\": \"^3.0.0\",\n    \"@lit-labs/motion\": \"^1.0.3\"\n  }\n}","hidden":true}},"order":5}