{"extends":"/samples/base.json","title":"Carousel Transitions","description":"Animated carousel.","section":"@lit-labs/motion","files":{"motion-carousel.js":{"content":"import {LitElement, html} from 'lit';\nimport {animate} from '@lit-labs/motion';\nimport {styleMap} from 'lit/directives/style-map.js';\nimport {styles} from './styles.js';\n\nexport class MotionCarousel extends LitElement {\n  static properties = {\n    selected: {type: Number},\n  };\n  static styles = styles;\n\n  constructor() {\n    super();\n    this.selected = 0;\n  }\n\n  data = Array(7).fill(null, 0);\n\n  render() {\n    return html`\n      <section class=\"container\">\n        ${this.data.map((_v, i) => {\n          const count = this.data.length;\n          const center = Math.trunc(count / 2);\n          const order = (count + center + i - this.selected) % count;\n          const zIndex = order === 0 || order === count - 1 ? -1 : 1;\n          const fraction = i / this.data.length;\n          return html`<div\n            @click=${order < center ? this.dec : this.inc}\n            style=${styleMap({\n              order: String(order),\n              zIndex: String(zIndex),\n              background: `hsl(\n                    ${Math.trunc(360 * fraction)},\n                    ${20 + Math.trunc(60 * fraction)}%,\n                    ${30 + Math.trunc(30 * fraction)}%)`,\n            })}\n            class=\"card\"\n            ${animate()}\n          >\n            ${i}\n          </div>`;\n        })}\n      </section>\n    `;\n  }\n\n  shift(i) {\n    const last = this.data.length - 1;\n    return i > last ? 0 : i < 0 ? last : i;\n  }\n\n  dec() {\n    this.selected = this.shift(this.selected - 1);\n  }\n  inc() {\n    this.selected = this.shift(this.selected + 1);\n  }\n}\ncustomElements.define('motion-carousel', MotionCarousel);\n"},"styles.js":{"content":"import {css} from 'lit';\n\nexport const styles = [\n  css`\n    .container {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      --size: 50vw;\n      width: calc(var(--size) + 80px);\n      gap: 8px;\n      border-radius: 8px;\n      padding: 8px;\n      overflow: hidden;\n      border: 4px solid #002071;\n      background: #e1e2e1;\n    }\n\n    .card {\n      background: #e1e2e1;\n      border-radius: 8px;\n      border: 1px solid #002071;\n      height: var(--size);\n      min-width: var(--size);\n      padding: 8px;\n      will-change: transform;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      color: white;\n      font-size: var(--size);\n      cursor: pointer;\n      user-select: none;\n    }\n  `,\n];\n"},"index.html":{"content":"<!DOCTYPE html>\n<head>\n  <script type=\"module\" src=\"./motion-carousel.js\"></script>\n  <style>\n    body {\n      margin: 0;\n      height: 100vh;\n      width: 100vw;\n      font-family: sans-serif;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n    }\n  </style>\n</head>\n<body>\n  <motion-carousel></motion-carousel>\n</body>\n"},"package.json":{"content":"{\n  \"dependencies\": {\n    \"lit\": \"^3.0.0\",\n    \"@lit-labs/motion\": \"^1.0.3\"\n  }\n}","hidden":true}},"order":4}