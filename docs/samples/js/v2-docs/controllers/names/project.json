{"extends":"/samples/v2-base.json","files":{"names-controller.js":{"content":"import {initialState, Task} from '@lit-labs/task';\nimport * as Names from './names-api.js';\n\nexport class NamesController {\n  host;\n  value;\n  kinds = Names.kinds;\n  task;\n  _kind = '';\n\n  constructor(host) {\n    this.host = host;\n    this.task = new Task(\n      host,\n      async ([kind]) => {\n        if (!kind?.trim()) {\n          return initialState;\n        }\n        try {\n          const response = await fetch(`${Names.baseUrl}${kind}`);\n          const data = await response.json();\n          return data.results;\n        } catch {\n          throw new Error(`Failed to fetch \"${kind}\"`);\n        }\n      },\n      () => [this.kind]\n    );\n  }\n\n  set kind(value) {\n    this._kind = value;\n    this.host.requestUpdate();\n  }\n  get kind() {\n    return this._kind;\n  }\n\n  render(renderFunctions) {\n    return this.task.render(renderFunctions);\n  }\n}\n"},"my-element.js":{"content":"import {LitElement, html} from 'lit';\nimport {NamesController} from './names-controller.js';\n\nexport class MyElement extends LitElement {\n  names = new NamesController(this);\n\n  render() {\n    return html`\n      <h3>Names List</h3>\n      Kind: <select @change=${this._kindChange}>\n      ${this.names.kinds.map((k) => html`<option value=${k}>${k}</option>`)}\n    </select>\n    ${this.names.render({\n      complete: (result) => html`\n        <p>List of ${this.names.kind}</p>\n        <ul>${result.map((i) => html`<li>${i.name}</li>`)}\n        </ul>\n      `,\n      initial: () => html`<p>Select a kind...</p>`,\n      pending: () => html`<p>Loading ${this.names.kind}...</p>`,\n      error: (e) => html`<p>${e}</p>`,\n    })}`;\n  }\n\n  _kindChange(e) {\n    this.names.kind = e.target.value;\n  }\n}\ncustomElements.define('my-element', MyElement);\n"},"names-api.js":{"content":"export const baseUrl = 'https://swapi.dev/api/';\n\nexport const kinds = [\n  '',\n  'people',\n  'starships',\n  'species',\n  'planets',\n  // Inserted to demo an error state.\n  'error',\n];\n"},"index.html":{"content":"<!doctype html>\n<html>\n  <head>\n    <script type=\"module\" src=\"./my-element.js\"></script>\n  </head>\n  <body>\n    <my-element></my-element>\n  </body>\n</html>\n"}},"previewHeight":"150px"}